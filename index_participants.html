<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Attention Study: Gaze vs. Arrows</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/style_webParti.css">

</head>
<body>
    <h1>Estudio de Atención Social</h1>
    <ul>
        <li>
            <span class = "p1">Desde el grupo de Neurociencia Cognitiva te agradecemos por participar en nuestro estudio de Atención Social.</span>
            <img src="img/logo-cimcyc.png">
            <img src="https://cimcyc.ugr.es/sites/centros/cimcyc/public/color/ugr-43c1f3fc/logo.svg">
        </li>
        <li>
            <span class="p2">El estudio consiste en realizar una tarea sencilla en ordenador. Solamente dura 20 minutos, y se te asignarán 0.1 créditos para usarlo en cualquier curso de psicología experimental.</span>
            <br>
            <span class="p2">Estamos ubicados en el Laboratorio 2 del <a href = "https://cimcyc.ugr.es/informacion/localizacion-contacto" target = "_blank">CIMCYC</a></span>
        </li>
        <li>
            <span class = "p2">Para participar solo tienes que ingresar en la plataforma <a href="https://ugr-cimcyc.sona-systems.com/" target = "_blank">sona</a> con tus credenciales y buscar el experimento:</span>
            <div class = "expName"><a href = "https://ugr-cimcyc.sona-systems.com/exp_info.aspx?experiment_id=356" target = "_blank">"Atención Social: estudio con estímulos no sociales"</a></div>
            <br>
            <span class="p2">En caso de que no tengas una cuenta puedes crearla rápidamente: <a href = "https://ugr-cimcyc.sona-systems.com/student_new_user.aspx" target = "_blank">crear cuenta</a></span>
        </li>
        <li>
            <span class = "p2">Si tienes cualquier pregunta puedes escribir a:</span>
            <br>
            <span class="mail">greta.castellanelli@studenti.unipd.it<i class="fas fa-copy" style = "cursor: pointer;" onclick="copyEmail()"></i></span>
            
            <!-- Eyes at the bottom -->
            <div class="eyes">
                <div class="eye">
                    <div class="pupil"></div>
                </div>
                <div class="eye">
                    <div class="pupil"></div>
                </div>
            </div>
        </li>
    </ul>

    

    <script>
        //Background
        document.addEventListener("DOMContentLoaded", function() {
            const lis = document.querySelectorAll("ul li");
            let cumulativeOffset = 0;

            lis.forEach((li, index) => {
                
                // Update the background position
                li.style.backgroundPosition = `0px ${-cumulativeOffset}px`;
                
                // Adjust cumulativeOffset for next `<li>`
                cumulativeOffset += li.offsetHeight + 20; // Increment by height of li and margin
            });
        });

        //Animate eyes
        const eyes = document.querySelectorAll('.eye');
        const pupils = document.querySelectorAll('.pupil');

        document.addEventListener('mousemove', (e) => {
            eyes.forEach((eye, index) => {
                const boundingBox = eye.getBoundingClientRect();
                const eyeCenterX = boundingBox.left + boundingBox.width / 2;
                const eyeCenterY = boundingBox.top + boundingBox.height / 2;
                const angle = Math.atan2(e.clientY - eyeCenterY, e.clientX - eyeCenterX);
                const distance = Math.min(eye.offsetWidth / 4, boundingBox.width / 2 - pupils[index].offsetWidth / 2);
                const pupilX = distance * Math.cos(angle);
                const pupilY = distance * Math.sin(angle);
                pupils[index].style.transform = `translate(-50%, -50%) translate(${pupilX}px, ${pupilY}px)`;
            });
        });

        // Blinking effect
        function blink() {
            eyes.forEach(eye => {
                eye.style.transform = 'scaleY(0.1)'; // Compress the eye vertically
            });

            setTimeout(() => {
                eyes.forEach(eye => {
                    eye.style.transform = 'scaleY(1)'; // Return to normal scale
                });
            }, 150); // Duration of the blink

            // Set a random time for the next blink
            const randomTime = Math.random() * (5000 - 2000) + 2000; // Random time between 2s and 5s
            setTimeout(blink, randomTime);
        }

        blink(); // Start the blinking effect

        function copyEmail() {
            const email = "greta.castellanelli@studenti.unipd.it";  // Change this if the email is dynamic
            navigator.clipboard.writeText(email).then(() => {
                alert('Email address copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy email: ', err);
            });
        }
    </script>
</body>
</html>
